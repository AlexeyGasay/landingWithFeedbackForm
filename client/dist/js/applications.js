"use strict";function asyncGeneratorStep(t,e,n,a,i,c,o){try{var p=t[c](o),r=p.value}catch(t){return void n(t)}p.done?e(r):Promise.resolve(r).then(a,i)}function _asyncToGenerator(p){return function(){var t=this,o=arguments;return new Promise(function(e,n){var a=p.apply(t,o);function i(t){asyncGeneratorStep(a,e,n,i,c,"next",t)}function c(t){asyncGeneratorStep(a,e,n,i,c,"throw",t)}i(void 0)})}}var applicationsBlock=document.getElementById("applications_block"),applicationsInput=document.getElementById("applications_input"),deleteBtn=document.getElementById("application__delete_btn"),applications=[];function renderApplications(){var e="";applications.map(function(t){e+='<div class="application">\n        <div class="email">Email: '.concat(t.email,"</div>\n        <div>Subject: ").concat(t.subject,"</div>\n        <div>Name: ").concat(t.name,"</div>\n        <div>Message: ").concat(t.message,'</div>\n\n        <button id="application__delete_btn">DELETE</button>\n      </div>')}),applicationsBlock.innerHTML=e}function fetchApplications(t){return _fetchApplications.apply(this,arguments)}function _fetchApplications(){return(_fetchApplications=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.value,t.next=3,fetch("https://secret-taiga-20525.herokuapp.com/api/applications?email=".concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){console.log(t),applications=t.data});case 3:renderApplications(),document.querySelectorAll(".application").forEach(function(t){var e=t.getElementsByClassName("email")[0].textContent.split(" ")[1];t.getElementsByTagName("button")[0].addEventListener("click",function(){return deleteApplication(e)})});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function deleteApplication(t){return _deleteApplication.apply(this,arguments)}function _deleteApplication(){return(_deleteApplication=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://secret-taiga-20525.herokuapp.com/api/application?email=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){alert(t)});case 2:t.sent;case 3:case"end":return t.stop()}},t)}))).apply(this,arguments)}applicationsInput.addEventListener("input",fetchApplications),applicationsInput.addEventListener("click",fetchApplications);
//# sourceMappingURL=applications.js.map
